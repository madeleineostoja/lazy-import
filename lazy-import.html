<link rel="import" href="../polymer/polymer.html"> <dom-module id="lazy-import"> <script>!function(){"use strict";var t=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),i=function(){function i(){t(this,i)}return e(i,[{key:"beforeRegister",value:function(){this.is="lazy-import",this.properties={href:String,active:{type:Boolean,notify:!0,reflectToAttribute:!0,value:!1},activeAttr:{type:String,observer:"_cleanUpAttrs"},loading:{type:Boolean,notify:!0}},this.observers=["_importDocument(href, active)","_updateChildAttributes(activeAttr, active)","_toggleVisibility(active)"]}},{key:"_importDocument",value:function(t,e){var i=this,n=function(){return i.loading=!1};t&&e&&(this.loading=!0,this.importHref(t,n,null,!0))}},{key:"_updateChildAttributes",value:function(t,e){var i=Polymer.dom(this).children;t&&i.forEach(function(i){e?i.setAttribute(t,""):i.removeAttribute(t),i[t]=e})}},{key:"_toggleVisibility",value:function(t){this.style.display=t?"":"none"}},{key:"_cleanUpAttrs",value:function(t,e){e&&!t&&Polymer.dom(this).children.forEach(function(e){e.removeAttribute(t)})}}]),i}();Polymer(i)}()</script> </dom-module> 